<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>留言板</title>
</head>
<body>
	<h1>留言本</h1>
</body>
<textarea name="留言本" id="memo" cols="60" rows="10"></textarea><br>
<input type="button" value="追加" onclick="saveStorage('memo');">
<input type="button" value="初始化" onclick="clearStorage('msg');">
<hr>
<p id="msg"></p>
<script>
	function saveStorage (id) {
		var data = document.getElementById(id).value;
		var time = new Date().getTime();
		loaclStroage.setItem(time,data);
		alert("数据已保存");
		loaclStroage('msg');
	}
	function loadStorage (id) {
		var result = '<table border = "1">';
		for (var i = 0; i < loaclStroage.length; i++) {
			var key = loaclStroage.key(i);
			var value = loaclStroage.getItem(key);
			var data = new Date();
			date.setTime(key);
			var datestr = data.toGMTString();
			result += '<tr><td>' + value + '</td><td>' + datestr + '</td></tr>';
		}
		result += '</table>';
		var target = document.getElementById(id);
		target.innerHTML = result;
	}
	function clearStorage () {
		loaclStroage.clear();
		alert("全部数据被清除");
		loadStorage('msg');
	}

</script>
</html>